!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("node-tokens"),require("node-fetch")):"function"==typeof define&&define.amd?define("content-insights-client",["node-tokens","node-fetch"],n):"object"==typeof exports?exports["content-insights-client"]=n(require("node-tokens"),require("node-fetch")):e["content-insights-client"]=n(e["node-tokens"],e["node-fetch"])}(this,function(e,n){return function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=t(1),s=t(2),u=function(){function e(n,t,i){o(this,e),this._name="ContentInsights",this.host=n,this.tokenName=t||"mint",this.tokens=r({kio:{scope:["uid"]},mint:{scope:["uid"]}},i)}return i(e,[{key:"get",value:function(e){var n=this.getAuthHeaders(this.tokenName);return s(this.host+e,{headers:n}).then(function(e){return e.json().then(function(n){return{json:n,response:e}})})}},{key:"getAuthHeaders",value:function(){var e=this.tokens.get(this.tokenName);if(!e)throw Error("Could not get a token for: "+this.tokenName);return{Authorization:"Bearer "+e,Accept:"application/x.zalando.content-article+json","Content-Type":"application/json","X-Tenant-Id":"Dougal"}}},{key:"search",value:function(e,n,t,o,i,r,s){var u=[];return void 0!==n&&u.push("start="+encodeURIComponent(n)),void 0!==t&&u.push("end="+encodeURIComponent(t)),void 0!==o&&u.push("limit="+encodeURIComponent(o)),void 0!==i&&u.push("offset="+encodeURIComponent(i)),void 0!==r&&u.push("domain="+encodeURIComponent(r)),void 0!==s&&u.push("sort="+encodeURIComponent(s)),this.get("/api/content-articles-search?q="+encodeURIComponent(e)+"&"+u.join("&"))}},{key:"timeseries",value:function(e,n,t,o,i,r,s,u,c){var a=[];return void 0!==n&&a.push("start="+encodeURIComponent(n)),void 0!==t&&a.push("end="+encodeURIComponent(t)),void 0!==o&&a.push("limit="+encodeURIComponent(o)),void 0!==i&&a.push("offset="+encodeURIComponent(i)),void 0!==r&&a.push("domain="+encodeURIComponent(r)),void 0!==s&&a.push("sort="+encodeURIComponent(s)),void 0!==u&&a.push("window="+encodeURIComponent(u)),void 0!==c&&a.push("normalize_entities="+c),this.get("/api/content-articles-timeseries?q="+encodeURIComponent(e)+"&"+a.join("&"))}},{key:"article",value:function(e){return this.get("/api/content-articles/"+e)}}]),e}();n["default"]=u,e.exports=n["default"]},function(n,t){n.exports=e},function(e,t){e.exports=n}])});
//# sourceMappingURL=content-insights-client.min.js.map