!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("node-tokens"),require("request-promise-native")):"function"==typeof define&&define.amd?define("content-insights-client",["node-tokens","request-promise-native"],t):"object"==typeof exports?exports["content-insights-client"]=t(require("node-tokens"),require("request-promise-native")):e["content-insights-client"]=t(e["node-tokens"],e["request-promise-native"])}(this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(1),s=n(2),a=function(){function e(t,n,i,s){o(this,e),this._name="ContentInsights",this.host=t,this.tokenName=n||"mint",this.agentConfig=s||{},this.tokens=r({kio:{scope:["uid"]},mint:{scope:["uid"]}},i)}return i(e,[{key:"get",value:function(e,t){return s({uri:this.host+e,qs:t,headers:this.getAuthHeaders(this.tokenName),agentOptions:this.agentConfig,resolveWithFullResponse:!0,simple:!1}).then(function(e){var t=JSON.parse(e.body);return{json:t,response:e}})}},{key:"getAuthHeaders",value:function(){var e=this.tokens.get(this.tokenName);if(!e)throw Error("Could not get a token for: "+this.tokenName);return{Authorization:"Bearer "+e,Accept:"application/x.zalando.content-article+json","Content-Type":"application/json"}}},{key:"search",value:function(e,t,n,o,i,r,s){var a={q:e};return void 0!==t&&(a.start=t),void 0!==n&&(a.end=n),void 0!==o&&(a.limit=o),void 0!==i&&(a.offset=i),void 0!==r&&(a.domain=r),void 0!==s&&(a.sort=s),this.get("/api/content-articles-search",a)}},{key:"timeseries",value:function(e,t,n,o,i,r,s,a,u){var c={q:e};return void 0!==t&&(c.start=t),void 0!==n&&(c.end=n),void 0!==o&&(c.limit=o),void 0!==i&&(c.offset=i),void 0!==r&&(c.domain=r),void 0!==s&&(c.sort=s),void 0!==a&&(c.window=a),void 0!==u&&(c.normalize_entities=u),this.get("/api/content-articles-timeseries",c)}},{key:"article",value:function(e){return this.get("/api/content-articles/"+e)}}]),e}();t["default"]=a,e.exports=t["default"]},function(t,n){t.exports=e},function(e,n){e.exports=t}])});
//# sourceMappingURL=content-insights-client.min.js.map